DROP TABLE IF EXISTS "user" CASCADE;
DROP TABLE IF EXISTS board CASCADE;
DROP TABLE IF EXISTS userboard CASCADE;

CREATE TABLE "user" (
  id SERIAL PRIMARY KEY,
  email varchar,
  password varchar
);

CREATE TABLE  board (
  id SERIAL PRIMARY KEY,
  name varchar
);

CREATE TABLE  userboard (
  user_id int REFERENCES "user"(id) ON UPDATE CASCADE ON DELETE CASCADE,
  board_id int REFERENCES board(id) ON UPDATE CASCADE ON DELETE CASCADE,
  user_role varchar,
  CONSTRAINT id PRIMARY KEY (user_id, board_id)
);

INSERT INTO "user"(email,password)
VALUES ('admin', 'admin');

INSERT INTO "user"(email,password)
VALUES ('user', 'user');

INSERT INTO board(name)
VALUES ('example_board1');

INSERT INTO board(name)
VALUES ('example_board2');

INSERT INTO board(name)
VALUES ('example_board3');